import{Q as r,I as l,$ as c,au as u,e as d,B as o,b as f,a as h,z as p,A as m,av as x}from"./index-BjEzJhc2.js";const g=({title:t,description:e,back:s,icon:a})=>d({class:"modal-header flex items-center pt-4 px-6"},[s&&o({variant:"icon",icon:f.arrows.left,class:"mr-2 p-0 flex sm:hidden",click:(i,n)=>n.close()}),a&&l({class:"mr-2 w-12 h-12 rounded-full bg-muted flex items-center justify-center"},[h(a)]),l({class:"flex flex-auto flex-col ml-2"},[p({class:"text-lg font-semibold m-0"},t),e&&l({class:"text-sm text-muted-foreground"},e)])]),b=r((t,e)=>l({popover:"manual",class:`modal m-auto top-0 right-0 bottom-0 left-0 fixed z-20 grid w-full h-full gap-4 lg:border bg-background text-foreground shadow-xl break-words overflow-hidden p-0 ${t.class}`,pointerdown:(s,a)=>{s.target===a.panel&&(s.preventDefault(),s.stopPropagation(),a.state.open=!1)}},[c({class:"modal-content relative bg-background z-[1] flex flex-auto flex-col",submit:s=>t.onSubmit&&t.onSubmit()},[g(t),l({class:"modal-body flex flex-auto flex-col overflow-y-auto py-0 px-6"},e),u({class:"modal-footer flex justify-between pb-4 px-6"},t.buttons)])])),w=t=>x.render(t,app.appShell.panel);class k extends m{render(){const e=this.getMainClass(),s=this.title||"",a=this.description||null;return b({class:e,title:s,description:a,buttons:this.getButtons(),onSubmit:()=>{this.onSubmit&&this.onSubmit(),this.close()},icon:this.icon,back:this.back??!1,aria:{expanded:["open"]}},this.children)}setupStates(){return{open:{state:!1,callBack:e=>{e||this.close()}}}}getButtons(){return[o({variant:"outline",click:()=>this.close()},"Cancel"),o({variant:"primary",type:"submit"},"Save")]}isOutsideClick(e){return!this.panel.contains(e)}getSizeClass(){switch(this.size){case"lg":return"lg max-w-[900px]";case"xl":return"xl max-w-[1400px]";default:return"md max-w-[760px]"}}getTypeClass(){switch(this.type){case"right":return"right right-0";case"left":return"left left-0";default:return""}}getMainClass(){return this.getSizeClass()+" "+this.getTypeClass()}open(){w(this),this.panel.showPopover(),this.state.open=!0}close(){this.state.open=!1,this.panel.hidePopover(),this.destroy()}}export{k as M};
