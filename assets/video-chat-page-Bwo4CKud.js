import{Y as t,z as n,b as c,o as s,d as u,a3 as f,v as g}from"./index-usS--pKt.js";const i=({name:e,isMuted:l,isMainParticipant:r=!1})=>t({class:`relative rounded-lg overflow-hidden border ${r?"w-full h-full":"w-full h-32"}`},[t({class:"w-full h-full"}),t({class:"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/50 to-transparent"},[t({class:"flex items-center justify-between"},[n({class:"text-sm font-medium"},e),l&&n({class:"flex items-center"},[c({size:"xs"},s.microphone)])])])]),d=({title:e,participantCount:l})=>t({class:"p-4 pt-6 pb-0 flex items-center justify-between"},[t({class:"flex items-center gap-2"},[n({class:"text-xl font-semibold pl-2"},e),n({class:"text-sm text-muted-foreground"},`${l} participants`)])]),a=({action:e,className:l,icon:r})=>g({class:l,click:e},[c({size:"sm"},r)]),m=({actions:e})=>t({class:"absolute bottom-6 left-0 right-0 flex items-center gap-4 w-60 mx-auto"},[a({action:e.toggleCamera,className:"w-12 h-12 rounded-full bg-gray-800 hover:bg-gray-700 flex items-center justify-center",icon:s.videoCamera.default}),a({action:e.toggleMute,className:"w-12 h-12 rounded-full bg-gray-800 hover:bg-gray-700 flex items-center justify-center",icon:s.microphone}),a({action:e.endCall,className:"w-12 h-12 rounded-full bg-red-500 hover:bg-red-600 flex items-center justify-center",icon:s.x}),a({action:e.toggleFullscreen,className:"w-12 h-12 rounded-full bg-gray-800 hover:bg-gray-700 flex items-center justify-center",icon:s.expand})]),x=({participants:e})=>t({class:"flex flex-col gap-2 w-60"},e.map(l=>t({class:"overflow-hidden rounded-lg shadow-sm"},[i({name:l.name,isMuted:l.isMuted})]))),p=({participants:e})=>t({class:"flex-1 p-4 flex gap-4"},[t({class:"flex-1 relative"},[i({name:"You",isMuted:!1,isMainParticipant:!0}),m({actions:{toggleMute:()=>console.log("Toggle mute"),toggleCamera:()=>console.log("Toggle camera"),endCall:()=>{if(console.log("End call"),window.history.length>2){window.history.back();return}app.navigate("/messages/all")},toggleFullscreen:()=>console.log("Toggle fullscreen")}})]),x({participants:e})]),o={CALLING:"calling",CONNECTED:"connected",ENDED:"ended",ERROR:"Error connecting"},h=[{name:"Craig Press",isMuted:!0},{name:"Makenna Bergson",isMuted:!1},{name:"Allison Septimus",isMuted:!1}],b=({participants:e})=>t({class:"flex flex-auto flex-col"},[d({title:"Video Chat",participantCount:4}),p({participants:e})]),w=()=>t({class:"flex flex-auto flex-col"},[]),y=()=>{const e={setupStates(){return{view:o.CALLING}}};return new u(e,[t({class:"flex flex-col w-full h-screen bg-background"},[f("view",l=>{switch(l){case o.CALLING:return w();case o.CONNECTED:return b({participants:h});case o.ENDED:return t({class:"flex flex-auto flex-col"},"Call Ended")}})])])};export{m as Controls,d as Header,x as ParticipantsList,y as VideoChatPage,i as VideoContainer,y as default};
