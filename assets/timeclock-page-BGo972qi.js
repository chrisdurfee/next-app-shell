import{h as E,J as l,p as O,b as x,o as c,ad as A,g as W,l as w,_ as g,X as R,S as F,ak as o,t as i,u as N,Z as P}from"./index-CXKZtDqq.js";import{S as j}from"./sidebar-menu-page-BVryQj2Z-CyOWBGT7.js";import{D as C,a as J}from"./tooltip-Pwsjx1Gp-DzrjZD8V.js";import{j as L,b as z,y as n}from"./signature-panel-obojbki5-Bk0qY-Jp.js";import"./mobile-nav-wrapper-Dj67Pb8l-Ch_cRWFC.js";const _=()=>E({class:"flex flex-auto flex-col pt-0 sm:pt-2 md:pt-0"},[l({class:"flex flex-auto items-center justify-between w-full"},[O({class:"text-3xl font-bold"},"Timeclock"),l({class:"flex items-center gap-2"},[l({class:"hidden lg:flex"},[x({variant:"withIcon",class:"text-muted-foreground outline",icon:c.clock,click:()=>null},"Clock In/Out"),x({variant:"withIcon",class:"text-muted-foreground outline ml-2",icon:c.circlePlus,click:()=>null},"Add Entry")]),l({class:"flex lg:hidden mr-0"},[C({content:"Clock In/Out",position:"left"},x({variant:"icon",class:"outline mr-2",icon:c.clock,click:()=>null})),C({content:"Add Entry",position:"left"},x({variant:"icon",class:"outline",icon:c.circlePlus,click:()=>null}))])])])]),f=({title:e,value:r,change:m,icon:s})=>A({class:"flex flex-col w-72 max-w-sm hover:bg-muted/50 transition-colors",margin:"m-0"},[l({class:"flex justify-between items-center mb-2"},[W({class:"text-base font-medium text-muted-foreground"},e),w(s)]),l({class:"flex flex-col"},[g({class:"text-2xl font-bold leading-tight"},r),g({class:"text-xs text-muted-foreground mt-1"},m)])]),d=Array.from({length:20},(e,r)=>{const m=r+1,s=Math.floor(Math.random()*10)+1,u=["John Smith","Maria Rodriguez","David Johnson","Sarah Williams","Michael Brown","Jennifer Davis","Robert Miller","Lisa Garcia","James Wilson","Emily Martinez"][s-1],y=new Date,k=Math.floor(Math.random()*14),h=new Date(y);h.setDate(y.getDate()-k);const b=h.toISOString().split("T")[0],t=Math.floor(Math.random()*3)+7,a=Math.floor(Math.random()*60),D=`${t.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")} AM`,p=Math.random()>.2;let v="",S=0;if(p){const I=Math.floor(Math.random()*5)+3,H=Math.floor(Math.random()*60);v=`${I.toString().padStart(2,"0")}:${H.toString().padStart(2,"0")} PM`,S=I+12-t-(H<a?.5:0)}const M=["Engineering","Sales","Marketing","Support","HR","Finance"],$=M[s%M.length],T=20*({Engineering:1.5,Sales:1.3,Marketing:1.2,Support:1,HR:1.1,Finance:1.4}[$]||1);return{id:m,employeeName:u,employeeImage:`https://i.pravatar.cc/150?img=${s%70+1}`,email:`${u.toLowerCase().replace(" ",".")}@example.com`,date:b,clockIn:D,clockOut:p?v:"Active",hoursWorked:p?S:new Date().getHours()-t,status:p?"Complete":"Active",department:$,hourlyRate:T}}),B=()=>{const e=new Date,r=e.toISOString().split("T")[0],m=new Date(e);m.setMonth(e.getMonth()-1),m.toISOString().split("T")[0];const s=new Set;d.forEach(t=>{t.status==="Active"&&s.add(t.employeeName)});const u=d.reduce((t,a)=>t+a.hoursWorked,0),k=d.filter(t=>t.date===r).reduce((t,a)=>t+a.hoursWorked,0),h=d.reduce((t,a)=>t+a.hoursWorked*a.hourlyRate,0),b=d.reduce((t,a)=>t+a.hourlyRate,0)/d.length;return{activeCount:s.size,totalHours:u.toFixed(1),todaysHours:k.toFixed(1),laborCost:h.toFixed(2),avgRate:b.toFixed(2)}},G=()=>{const e=B();return l({class:"hidden md:flex flex-auto overflow-x-auto -mx-6 px-6 pb-2"},[l({class:"inline-flex flex-auto space-x-4 ml-[-24px] pl-6"},[f({title:"Active Employees",value:e.activeCount.toString(),change:"Currently clocked in",icon:c.user.group}),f({title:"Total Hours",value:e.totalHours,change:"Last two weeks",icon:c.clock}),f({title:"Today's Hours",value:e.todaysHours,change:"Hours worked today",icon:c.calendar.default}),f({title:"Labor Cost",value:`$${e.laborCost}`,change:`Avg rate: $${e.avgRate}/hr`,icon:c.currency.dollar})])])},X=()=>F([R({class:"text-muted-foreground border-b"},[z({class:"hidden md:table-cell"}),n({key:"employeeName",label:"Employee"}),n({key:"date",label:"Date",class:"hidden md:table-cell"}),n({key:"clockIn",label:"Clock In",class:"hidden md:table-cell"}),n({key:"clockOut",label:"Clock Out",class:"hidden md:table-cell"}),n({key:"hoursWorked",label:"Hours Worked",class:"hidden md:table-cell"}),n({key:"status",label:"Status"}),n({key:"department",label:"Department",class:"hidden md:table-cell"}),n({key:"hourlyRate",label:"Rate",align:"justify-end"})])]),Z=(e,r)=>R({class:"items-center px-4 py-2 hover:bg-muted/50"},[o({class:"p-4 hidden md:table-cell"},[new J({checked:e.selected,class:"mr-2",onChange:()=>r(e)})]),o({class:"p-4"},[i({href:`employee/${e.id}`,class:"flex items-center gap-x-4 no-underline text-inherit hover:text-primary"},[N({src:e.employeeImage,alt:e.employeeName,fallbackText:e.employeeName}),l({class:"min-w-0 flex-auto"},[g({class:"text-base font-semibold leading-6 m-0"},e.employeeName),g({class:"truncate text-sm leading-5 text-muted-foreground m-0"},e.email)])])]),o({class:"p-4 hidden md:table-cell"},[i({href:`timeclock/${e.id}`,class:"no-underline text-inherit hover:text-primary"},e.date)]),o({class:"p-4 hidden md:table-cell"},[i({href:`timeclock/${e.id}`,class:"no-underline text-inherit hover:text-primary"},e.clockIn)]),o({class:"p-4 hidden md:table-cell"},[i({href:`timeclock/${e.id}`,class:"no-underline text-inherit hover:text-primary"},e.clockOut)]),o({class:"p-4 hidden md:table-cell"},[i({href:`timeclock/${e.id}`,class:"no-underline text-inherit hover:text-primary"},`${e.hoursWorked.toFixed(1)}`)]),o({class:"p-4"},[P({class:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ${e.status==="Active"?"bg-green-50 text-green-700 ring-1 ring-inset ring-green-600/20":"bg-blue-50 text-blue-700 ring-1 ring-inset ring-blue-700/10"}`},e.status)]),o({class:"p-4 hidden md:table-cell"},[i({href:`timeclock/${e.id}`,class:"no-underline text-inherit hover:text-primary"},e.department)]),o({class:"p-4 text-right justify-end"},[i({href:`timeclock/${e.id}`,class:"no-underline text-inherit hover:text-primary"},`$${e.hourlyRate.toFixed(2)}`)])]),q=({times:e})=>new L({cache:"timeclock",customHeader:X(),rows:e,rowItem:Z,key:"id"}),le=()=>new j([l({class:"grid grid-cols-1"},[l({class:"flex flex-auto flex-col pt-0 lg:space-y-12 w-full mx-auto 2xl:max-w-[1600px]"},[_(),l({class:"flex flex-auto flex-col space-y-4 lg:space-y-2"},[G(),l({class:"flex flex-col overflow-x-auto"},[q({times:d})])])])])]);export{le as TimeclockPage,le as default};
