import{u as n,q as p,r as i,a as o,O as u,f as S,Z as y,H as B,U as C,a9 as L,s as h,o as r,x as $,P as l,e as N,Q as P,k as f,J as O,l as z,aa as x}from"./index-CD4VvKaS.js";class E extends n{declareProps(){this.class="",this.checkCallBack=null}render(){const t=this.state;return $({class:this.class||"",onState:[["selected",{selected:!0}],["active",{active:!0}]],click:()=>{if(t.toggle("active"),!this.checkCallBack)return;const e=t.active?this:null;this.checkCallBack(e)}},this.children)}setupStates(){return{selected:!1,active:!1}}update(t){this.state.set({selected:t,active:t})}}const j=o(({options:s,click:t},e)=>({tag:"li",class:`relative flex flex-row w-auto text-left p-0 transition-all cursor-pointer min-w-[48px] option${s?" sub":""}`,click:t,children:e})),I=(s,t=null,e=!1)=>[t&&S({class:"icon w-12 rounded-md flex items-center justify-center min-w-12",onState:["selected",{selected:!0}],html:t}),y({class:"label flex flex-auto text-sm items-center cursor-pointer whitespace-nowrap"},s),e&&B({class:"flex justify-center items-center px-1 transition-all text-muted-foreground mr-2",onState:[["selected",{rotate:!0}],["active",{rotate:!0}]]},[h({size:"xs"},r.chevron.single.down)])];class m extends n{declareProps(){this.label="",this.icon=null,this.href=null,this.exact=!1,this.options=null,this.content=null,this.callBack=null,this.checkCallBack=null,this.link=null}render(){const t=!this.options&&this.callBack;return j({options:this.options,click:t},[this.addLink()])}addLink(){const t=this.options&&this.options.length>0,e=this.content||I(this.label,this.icon,t);return this.href?new C({class:"flex flex-auto flex-row rounded-md transition-all overflow-x-hidden",cache:"link",href:this.href,activeClass:"selected",exact:this.exact||!1},e):new E({class:"flex flex-auto flex-row rounded-md transition-all overflow-x-hidden",cache:"link",checkCallBack:this.checkCallBack},e)}isSelected(){return this.link.state.get("selected")}update(t){this.link.update(t)}}const G=o(({map:s},t)=>i({class:"navigation-group flex flex-col gap-2 list-none m-0 py-2 px-0",map:s},[L({class:"text-muted-foreground text-sm py-0 px-4 whitespace-nowrap"},t)]));class U extends n{declareProps(){this.options=[],this.class="",this.mobileBorder=!1}render(){const t=this.mapOptions(this.options),e=this.class||"",a=this.mobileBorder?"border md:border-0 rounded-md":"";return p({class:`navigation flex flex-auto flex-col ${e}`},[i({class:`relative group flex flex-col gap-2 py-2 px-2 list-none m-0 ${a}`,map:t}),...this.addSubs()])}mapOptions(t=[]){return[t.map(e=>e.group?this.addGroup(e):this.addLink(e)),e=>e]}addSubs(){return[]}addGroup(t){const e=this.mapOptions(t.options);return G({map:e},t.group)}addLink(t){return new m(t)}}class c extends U{onCreated(){this.links=[]}setupSubNav(t){return new Z({parentLink:t,options:t.options})}addSubNav(t){const e=this.setupSubNav(t);return t.sub=e,e}addLink(t){const e=new m(t);if(this.links.push(e),!e.options)return e;const a=this.addSubNav(e);return{class:"child-group",link:e,sub:a}}}const W=(s,t)=>new RegExp(`${s}($|/|\\.).*`).test(t),Y=(s,t)=>{const e=s.link.panel.pathname;return!e&&s.isSelected()?!0:s.exact?t===e:W(e,t)};class Z extends c{declareProps(){super.declareProps(),this.parentLink=null,this.mainClassName=""}render(){const t=`navigation flex flex-auto flex-col sub ${this.mainClassName||""}`,e=this.mapOptions(this.options);return p({class:t,onState:this.onState()},[i({class:"relative group flex flex-col gap-2 py-2 px-0 list-none m-0"},[...e,...this.addSubs(),this.addWatcher()])])}addWatcher(){return{watch:{value:["[[path]]",u.data],callBack:this.updateLinks.bind(this)}}}onState(){return[["selected",{active:!0}],["active",{active:!0}]]}setupStates(){return{remotes:[{id:this.parentLink.link.getId(),selected:null,active:null}]}}afterSetup(){const t=u.data.get("path");this.updateLinks(t)}updateLinks(t){let e=!1;for(const a of this.links)if(a.rendered&&(e=Y(a,t),e===!0))break;this.parentLink.update(e)}}const M=({title:s,options:t,class:e="",mobileBorder:a=!1,sticky:d=!1,topNav:v=null,bottomNav:w=null})=>l({class:`pb-12 p-4 pt-0 lg:p-6 lg:border-r w-full lg:max-w-[300px] flex-auto flex-col ${e}`},[v,s&&N({class:"pb-4 md:pb-2 px-6 flex"},[P({class:"scroll-m-20 text-3xl lg:text-2xl font-bold tracking-tight"},s)]),new c({options:t,mobileBorder:a,class:d?"sticky top-0":""}),w]),q=s=>x({class:"text-lg ml-2"},s),H=s=>l({class:"sticky flex flex-row items-center bg-popover lg:hidden top-0 z-10 border-0 border-b"},[f({variant:"icon",class:"m-2",click:(t,{state:e})=>e.toggle("open"),icon:r.arrows.left}),s.title&&q(s.title)]),Q=()=>l({class:`
			absolute inset-0 bg-black/40 z-[-1] fadeIn
			transition-opacity duration-200
		`,click:(s,{state:t})=>t.open=!1});class R extends n{declareProps(){this.title=""}render(){return l({class:"fixed inset-0 z-50",style:"[[typeClass]]"},[Q(),l({class:`
					absolute popIn w-auto p-0 bg-popover m-auto shadow-lg rounded-md top-0 bottom-0 left-2 right-2 max-h-[85vh] text-inherit block
				`,dataSet:["open",["expanded",!0,"true"]]},[l({class:"flex flex-auto flex-col w-full h-full overflow-y-auto max-h-[85vh] rounded-md bg-popover border"},[H({title:this.title}),l({class:"flex flex-auto flex-col"},this.children)])])])}setupStates(){return{open:{id:this.parent.getId(),callBack:t=>{t===!1&&(document.documentElement.style.overflowY="auto",this.destroy())}}}}afterSetup(){document.documentElement.style.overflowY="hidden"}setContainer(t){this.container=app.root}}const k=s=>f({class:"m-2",variant:"ghost",addState(){return{open:!1}},click:(t,{state:e})=>e.toggle("open")},[h(r.bar.three)]),A=s=>x({class:"text-lg ml-2"},s),D=s=>l({class:"flex flex-auto flex-row items-center lg:hidden"},[k(),s.title&&A(s.title)]),g=(s,t)=>{s.forEach(e=>{if(e.options){g(e.options,t);return}e.callBack=t})},b=s=>l({class:"bg-background flex flex-auto flex-col w-full relative"},[O("open",t=>t?[new R({title:s.title},[z(({state:e})=>{const a=d=>e.open=!1;return g(s.options,a),new c({options:s.options})})])]:null)]),T=o(s=>l({cache:"mobileNav",class:"inline-flex relative lg:hidden"},[l([k(),b(s)])])),V=o(s=>l({cache:"mobileNav",class:"flex flex-auto flex-col w-full relative lg:hidden"},[l({class:"flex flex-auto flex-col w-full"},[D(s),b(s)])]));export{M as V,T as X,V as Z,c};
