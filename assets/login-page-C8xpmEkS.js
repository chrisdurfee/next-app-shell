var H=Object.defineProperty;var v=t=>{throw TypeError(t)};var W=(t,e,s)=>e in t?H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var F=(t,e,s)=>W(t,typeof e!="symbol"?e+"":e,s),L=(t,e,s)=>e.has(t)||v("Cannot "+s);var r=(t,e,s)=>(L(t,e,"read from private field"),s?s.call(t):e.get(t)),p=(t,e,s)=>e.has(t)?v("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),f=(t,e,s,c)=>(L(t,e,"write to private field"),c?c.call(t,s):e.set(t,s),s),u=(t,e,s)=>(L(t,e,"access private method"),s);import{B as $}from"./sidebar-menu-page-nCAVFk3R-CWHncTf_.js";import{u as b,Y as a,s as m,R as M,l as y,r as P,G as S,w as d,d as j,P as z,y as T,h as B,o as U,z as _}from"./index-CYev7DZz.js";import{c as x,a as Z}from"./tooltip-DSfp01wQ-Bp-A8kdE.js";import"./mobile-nav-wrapper-BE_hr65B-Dd3QyQx9.js";var h,w,i,l,o,I,q,A,G,k,D;const g=class g{constructor(e,s,c){p(this,o);p(this,h);p(this,w);p(this,i);p(this,l,[]);f(this,h,e),f(this,w,s),f(this,i,c)}validate(){return f(this,l,[]),u(this,o,I).call(this),u(this,o,q).call(this),u(this,o,A).call(this),u(this,o,G).call(this),u(this,o,k).call(this),u(this,o,D).call(this),{valid:r(this,l).length===0,errors:r(this,l)}}};h=new WeakMap,w=new WeakMap,i=new WeakMap,l=new WeakMap,o=new WeakSet,I=function(){r(this,i).length<g.MIN_LENGTH&&r(this,l).push(`Password must be at least ${g.MIN_LENGTH} characters long.`)},q=function(){/[A-Z]/.test(r(this,i))||r(this,l).push("Password must contain at least one uppercase letter.")},A=function(){/[a-z]/.test(r(this,i))||r(this,l).push("Password must contain at least one lowercase letter.")},G=function(){/\d/.test(r(this,i))||r(this,l).push("Password must contain at least one digit.")},k=function(){/[^a-zA-Z0-9]/.test(r(this,i))||r(this,l).push("Password must contain at least one special character (e.g., !@#$%^&*()).")},D=function(){const e=r(this,i).toLowerCase(),s=r(this,h).toLowerCase(),c=r(this,w).toLowerCase(),O=E=>{for(let C=0;C<=E.length-3;C++){const R=E.substring(C,C+3);if(e.includes(R))return!0}return!1};(O(s)||O(c))&&r(this,l).push("Password must not contain parts of your name.")},F(g,"MIN_LENGTH",12);let N=g;const Y=m(({title:t,description:e})=>y({class:"flex flex-col space-y-1.5 p-6"},[P({class:"scroll-m-20 text-3xl font-bold tracking-tight"},t),e&&S({class:"text-base text-muted-foreground py-2 max-w-[700px]"},e)])),J=(t,e)=>{if(t!==e)return app.notify({title:"Error",description:"Passwords do not match.",type:"destructive"}),!1;const s="",c="";return new N(s,c,t).validate().valid?!0:(app.notify({title:"Error",description:"Password does not meet requirements.",type:"destructive"}),!1)},K=()=>M({class:"flex flex-col p-6 pt-0",submit:(t,e)=>{t.preventDefault();const s=e.data.password,c=e.data.confirmPassword;J(s,c)&&console.log("Password change submitted")},role:"form"},[a({class:"grid gap-4"},[x({type:"password",placeholder:"New Password",required:!0,bind:"password",pattern:"(?=^.{12,}$)(?=.*[A-Z])(?=.*[a-z])(?=.*d)(?=.*W).*$",title:"Password must be at least 12 characters long and include uppercase, lowercase, number, and special character.","aria-required":!0}),x({type:"password",placeholder:"Confirm New Password",required:!0,bind:"confirmPassword",pattern:"(?=^.{12,}$)(?=.*[A-Z])(?=.*[a-z])(?=.*d)(?=.*W).*$",title:"Password must be at least 12 characters long and include uppercase, lowercase, number, and special character.","aria-required":!0}),d({type:"submit"},"Change Password")])]),Q=()=>b({class:"flex flex-auto flex-col justify-center items-center"},[a({class:"rounded-xl sm:border sm:shadow-lg bg-card text-card-foreground shadow w-full mx-auto max-w-sm"},[Y({title:"Change Password",description:"Choose a new password."}),K()])]),X=j({data:new z({password:"",confirmPassword:""}),render(){return a({class:"flex flex-auto flex-col"},[Q()])}}),n={LOGIN:"login",FORGOT_PASSWORD:"forgot-password",MULTI_FACTOR_METHOD:"multi-factor-method",ONE_TIME_CODE:"one-time-code"},V=()=>a({class:"grid gap-4"},[a({class:"grid gap-4"},[Z({placeholder:"Email Address",required:!0,"aria-required":!0})])]),ee=()=>a({class:"grid gap-4"},[d({type:"submit"},"Submit")]),te=()=>a({class:"grid gap-4"},[d({variant:"outline","aria-label":"Cancel",click:(t,e)=>e.showStep(n.LOGIN)},"Cancel")]),se=()=>M({class:"flex flex-col p-6 pt-0",submit:(t,e)=>e.state.showMessage=!0,role:"form"},[a({class:"grid gap-4"},[V(),ee(),te()])]),ae=m(({title:t,description:e})=>y({class:"flex flex-col space-y-1.5 p-6"},[P({class:"scroll-m-20 text-3xl font-bold tracking-tight"},t),e&&S({class:"text-base text-muted-foreground py-2 max-w-[700px]"},e)])),re=()=>B({title:"Success!",description:"Check your email for instructions to reset your password.",icon:U.circleCheck}),oe=m((t,e)=>a({class:"rounded-xl sm:border sm:shadow-lg bg-card text-card-foreground shadow w-full mx-auto max-w-sm",addState(){return{showMessage:!1}}},e)),le=()=>b({class:"flex flex-auto flex-col justify-center items-center"},[oe([T("showMessage",t=>t?re():[ae({title:"Forgot Password",description:"Please enter your email address."}),se()])])]),ce=()=>[a({class:""},[_({class:"text-sm text-muted-foreground mt-8 mb-0"},"Forgot your password? "),_({class:"text-sm font-medium text-primary underline cursor-pointer",click:(t,e)=>e.showStep(n.FORGOT_PASSWORD)},"Reset it")])],ie=()=>a({class:"grid gap-4"},[a({class:"grid gap-4"},[x({type:"text",placeholder:"Username",required:!0,"aria-required":!0})]),a({class:"grid gap-4"},[x({type:"password",placeholder:"Password",required:!0,"aria-required":!0})])]),ne=()=>a({class:"grid gap-4"},[d({type:"submit"},"Login")]),de=()=>a({class:"grid gap-4"},[d({variant:"outline","aria-label":"Login with Google"},"Login with Google")]),ue=()=>M({class:"flex flex-col p-6 pt-0",submit:()=>app.signIn(),role:"form"},[a({class:"grid gap-4"},[ie(),ne(),de(),ce()])]),me=m(({title:t,description:e})=>y({class:"flex flex-col space-y-1.5 p-6"},[P({class:"scroll-m-20 text-3xl font-bold tracking-tight"},t),e&&S({class:"text-base text-muted-foreground py-2 max-w-[700px]"},e)])),pe=m((t,e)=>a({class:"rounded-xl sm:border sm:shadow-lg bg-card text-card-foreground shadow w-full mx-auto max-w-sm",addState(){return{loading:!0}}},e)),fe=()=>null,ge=()=>b({class:"flex flex-auto flex-col justify-center items-center"},[pe({class:"rounded-xl sm:border sm:shadow-lg bg-card text-card-foreground shadow w-full mx-auto max-w-sm"},[T("loading",t=>t?[me({title:"Login",description:"Please enter your credentials to login."}),ue()]:fe())])]),xe=m(({title:t,description:e})=>y({class:"flex flex-col space-y-1.5 p-6"},[P({class:"scroll-m-20 text-3xl font-bold tracking-tight"},t),e&&S({class:"text-base text-muted-foreground py-2 max-w-[700px]"},e)])),he=()=>a({class:"grid gap-4 p-6"},[d({variant:"outline",click:(t,e)=>{e.state.selectedMfaMethod="email",e.showStep(n.ONE_TIME_CODE)}},"Email"),d({variant:"outline",click:(t,e)=>{e.state.selectedMfaMethod="text",e.showStep(n.ONE_TIME_CODE)}},"Text")]),we=()=>b({class:"flex flex-auto flex-col justify-center items-center"},[a({class:"rounded-xl sm:border sm:shadow-lg bg-card text-card-foreground shadow w-full mx-auto max-w-sm",addState:()=>({selectedMfaMethod:""})},[xe({title:"Multi-Factor Authentication",description:"Select your preferred method for multi-factor authentication."}),he()])]),be=m(({title:t,description:e})=>y({class:"flex flex-col space-y-1.5 p-6"},[P({class:"scroll-m-20 text-3xl font-bold tracking-tight"},t),e&&S({class:"text-base text-muted-foreground py-2 max-w-[700px]"},e)])),ye=()=>M({class:"flex flex-col p-6 pt-0",submit:(t,e)=>{t.preventDefault(),console.log("One-time code submitted")},role:"form"},[a({class:"grid gap-4"},[x({type:"text",placeholder:"Enter your code",required:!0,"aria-required":!0}),d({type:"submit"},"Verify Code")])]),Pe=()=>b({class:"flex flex-auto flex-col justify-center items-center"},[a({class:"rounded-xl sm:border sm:shadow-lg bg-card text-card-foreground shadow w-full mx-auto max-w-sm"},[be({title:"One-Time Code",description:"Please enter the one-time code sent to you."}),ye()])]),Se=()=>a({class:"flex flex-auto flex-col",switch:[{uri:"/change-password",component:new X},{component:a({class:"flex flex-auto flex-col"},[T("step",t=>{switch(t){case n.FORGOT_PASSWORD:return le();case n.ONE_TIME_CODE:return Pe();case n.MULTI_FACTOR_METHOD:return we();default:return ge()}})])}]}),Ce={setupStates(){return{step:n.CHANGE_PASSWORD}},showStep(t){this.state.step=t}},Te=()=>new $(Ce,[Se()]);export{Te as LoginPage,Te as default};
