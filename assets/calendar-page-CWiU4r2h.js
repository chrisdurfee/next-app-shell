import{d as b,b as w,m as o,y as N,P as S,h as F,e as k,F as Y,B as m,I as D}from"./index-CiwY26e9.js";import{T as _}from"./tooltip-D5sbzMPe.js";import{B as E}from"./blank-page-D5eoT2VR.js";const u=t=>(t*=1,t<10?`0${t}`:t),P=t=>t.replace(/-/g,"_"),f=(t,e,n)=>`${t}-${u(e+1)}-${u(n)}`,A=t=>t?"bg-accent text-primary":"",O=t=>t?"text-muted-foreground opacity-50":"",B=(t,e)=>t===e,H=(t,e)=>B(t,e)?"bg-primary text-primary-foreground":"",I=(t,e,n,a)=>{const s=H(e,a);if(s)return s;const c=A(t);if(t)return c;const l=O(n);return n?l:"text-foreground"},x=({day:t,currentDate:e,date:n,isToday:a,isOutsideMonth:s,select:c})=>b({class:`
        flex flex-auto flex-col p-2 rounded-md
        hover:bg-accent hover:text-accent-foreground focus:z-10 lg:items-center
      `,disabled:t===null,"aria-label":t?`Day ${t}`:null,click:()=>c(n)},[w({class:`p-2 rounded-lg text-sm font-medium ${I(a,e,s,n)}`},String(t)),o({class:"flex flex-auto flex-row flex-wrap",for:[`events._${P(n)}`,l=>N({class:"bg-primary w-1 h-1 rounded-full m-[2px]"})]})]),y=(t,e,n,a)=>t===a.date&&e===a.month&&n===a.year,W=(t,e,n)=>{const{year:a,month:s}=t,c=f(a,s,t.date),l=new Date(a,s,1).getDay(),i=new Date(a,s+1,0).getDate(),g=new Date(a,s,0).getDate(),d=[],p=s===0?11:s-1,v=s===0?a-1:a;for(let r=l-1;r>=0;r--){const h=y(g-r,p,v,e);d.push(x({day:g-r,currentDate:c,date:f(v,p,g-r),isToday:h,isOutsideMonth:!0,select:n}))}for(let r=1;r<=i;r++){const h=y(r,s,a,e);d.push(x({day:r,currentDate:c,date:f(a,s,r),isToday:h,isOutsideMonth:!1,select:n}))}const C=s===11?0:s+1,$=s===11?a+1:a,T=(7-d.length%7)%7;for(let r=1;r<=T;r++){const h=y(r,C,$,e);d.push(x({day:r,currentDate:c,date:f($,C,r),isToday:h,isOutsideMonth:!0,select:n}))}return d},R=()=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>w({class:"text-center font-semibold text-muted-foreground py-1 m-0 mb-2 text-xs"},e)),X=t=>o({class:"flex flex-auto flex-col w-full",onSet:["currentDate",()=>[o({class:"flex flex-col lg:border-b"},[o({class:"grid grid-cols-7"},R())]),o({class:"grid grid-cols-7 h-full"},W(t.current,t.today,t.select))]]}),j=()=>Math.floor(Math.random()*28)+1,z=(t,e)=>{const n=[];for(let s=0;s<6;s++)n.push(`_${e}_${u(t+1)}_${u(j())}`);return n},M=(t,e)=>{const n=z(Number(t),Number(e)),a={};return n.forEach((s,c)=>{a[s]=a[s]??[];const l=Math.floor(Math.random()*5)+1;for(let i=0;i<l;i++)a[s].push(`Event ${c+1}.${i+1}`)}),a},G=t=>o({class:"justify-between flex items-center mb-4"},[Y({class:"scroll-m-20 text-3xl font-bold tracking-tight md:pl-4"},"[[monthName]] [[current.year]]"),o({class:"flex items-center space-x-2"},[m({variant:"icon",icon:D.chevron.single.left,click:t.previous}),m({variant:"icon",icon:D.chevron.single.right,click:t.next}),_({content:"Add Event",position:"left"},m({variant:"icon",icon:D.circlePlus}))])]),q=t=>o({class:"flex flex-auto flex-col w-full space-y-1"},[G(t),X({current:t.current,today:t.today,select:t.select})]),U=()=>new E({getSelectedDate(t){const e=this.selectedDate?new Date(addTime(this.selectedDate)):t;return new Date(e.getFullYear(),e.getMonth(),e.getDate())},setData(){const t=new Date,e=this.getSelectedDate(t),n=e.getMonth(),a=e.getFullYear(),s=M(n,a);return new S({events:s,monthName:this.getMonthName(n),currentDate:`${a}-${n+1}-${e.getDate()}`,current:{date:e.getDate(),year:a,month:n},today:{date:t.getDate(),month:t.getMonth(),year:t.getFullYear()}})},getMonthName(t){return F.getMonthName(t)},goToPreviousMonth(){const t=this.data;let e=t.current.month,n=t.current.year;e===0?(e=11,n--):e--,this.setCurrentDate(e,n),this.data.events=M(e,n)},goToNextMonth(){const t=this.data;let e=t.current.month,n=t.current.year;e===11?(e=0,n++):e++,this.setCurrentDate(e,n),this.data.events=M(e,n)},setCurrentDate(t,e,n=null){const a=this.data;a.current.month=t,a.current.year=e,typeof n=="number"&&(a.current.date=u(n)),a.currentDate=`${e}-${u(t+1)}-${a.current.date}`,a.monthName=this.getMonthName(t)},selectDate(t){const e=new Date(t+"T00:00:00");this.setCurrentDate(e.getMonth(),e.getFullYear(),e.getDate()),typeof this.selectedCallBack=="function"&&this.selectedCallBack(this.data.currentDate)},render(){return k([o({class:"px-4 flex flex-auto flex-col pt-[80px] md:pt-5 md:px-0"},[o({class:"flex flex-auto flex-col w-full h-full"},[q({current:this.data.current,today:this.data.today,select:t=>this.selectDate(t),next:()=>this.goToNextMonth(),previous:()=>this.goToPreviousMonth()})])])])}});export{U as CalendarPage,q as MonthCalendar,U as default};
