import{ac as S,o as l,Y as t,g as p,G as a,a as w,b as m,s as n,j as v,l as k,X as C,a1 as A,O as D,w as h}from"./index-CXLgrEwp.js";import{I as T,c as f,L as u,T as r,D as s,a as I}from"./tooltip-DcnXGw52-D6Z-1Prz.js";import{c as P}from"./sidebar-menu-page-DyIwNFwe-BdpA43zQ.js";import{g as $}from"./clients-DhjErPR_.js";import"./signature-panel-Dl_Tkisq-BhfKVLd1.js";import"./mobile-nav-wrapper-CuATTfqK-B3ZAFyvX.js";const g=e=>new S({title:"Edit Client",icon:l.pencil.square,description:"What client would you like to edit?",size:"sm",type:"right",onSubmit:()=>app.notify({type:"success",title:"Client Edited",description:"The client has been edited.",icon:l.check})},[t({class:"flex flex-col lg:p-4 space-y-8"},[t({class:"flex flex-auto flex-col w-full gap-4"},[T({legend:"Client Details"},[new p({name:"name",label:"Name",description:"The name of the client."},[f({type:"text",placeholder:"Client name",required:!0})]),new p({name:"location",label:"Location",description:"The location of the client."},[f({type:"text",placeholder:"Location",required:!0})])])])])]).open(),i=({title:e,value:c,icon:o})=>u({class:"bg-card border border-border rounded-lg p-4 min-w-[250px] min-h-32 hover:bg-muted/50 transition-colors",margin:"m-0"},t({class:"flex flex-col space-y-2"},[t({class:"flex items-center space-x-2 text-muted-foreground"},[w(o,{class:"text-lg"}),m({class:"text-sm font-medium"},e)]),a({class:"text-2xl font-bold text-foreground"},c)])),x=n((e,c)=>t({class:"space-y-6"},[k({class:"flex flex-col space-y-2"},[m({class:"text-xl font-semibold"},e.title),e.description&&a({class:"text-sm text-muted-foreground"},e.description)]),...c])),E=n(({client:e})=>t({class:"flex items-center space-x-4 my-10"},[v({src:e.avatar,alt:e.name,fallbackText:e.name,size:"lg"}),t({class:"flex flex-col space-y-1"},[t({class:"flex items-baseline space-x-2"},[m({class:"text-2xl font-semibold text-foreground"},e.name),a({class:"text-sm text-muted-foreground"},e.code)]),t({class:"flex items-center space-x-2"},[a({class:"text-sm text-muted-foreground"},e.contactName),r({variant:e.status==="Active"?"primary":"secondary"},e.status)])])])),L=n(({client:e})=>t({class:"hidden md:flex overflow-x-auto -mx-6 px-6 pb-4"},t({class:"inline-flex flex-auto space-x-4 ml-[-24px] pl-6"},[i({title:"Payment Amount",value:`$${e.payment}`,icon:l.creditCard}),i({title:"Package",value:e.package,icon:l.cube}),i({title:"Next Due Date",value:e.nextDue,icon:l.calendar.default}),i({title:"Secret Passphrase",value:e.passphrase,icon:l.locked}),i({title:"Client Since",value:e.since,icon:l.clock})]))),j=({about:e})=>x({title:"About"},[a({class:"text-base text-muted-foreground max-w-[800px]"},e)]),q=n(({client:e})=>x({title:"Packages and Contract"},[u({class:"p-6",margin:"m-0"},[t({class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},[t({class:"space-y-12"},[t({class:"space-y-1"},[a({class:"text-sm text-muted-foreground"},"Contract expiration in 8 months"),t({class:"flex items-center space-x-2"},[a({class:"font-medium text-foreground"},e.contractExpires),r({variant:"secondary"},e.contractStatus)])]),t({class:"space-y-1"},[a({class:"text-sm text-muted-foreground"},"Billing"),a({class:"font-medium text-foreground"},`${e.package} (ID: ${e.contractId}), $${e.payment} monthly`)])]),t({class:"space-y-12"},[t({class:"space-y-1"},[a({class:"text-sm text-muted-foreground"},"Upgrades"),t({class:"flex flex-wrap gap-2"},e.addOns.map(c=>r({variant:"outline"},c)))]),t({class:"space-y-1"},[a({class:"text-sm text-muted-foreground"},"Sales Agent"),a({class:"font-medium text-foreground"},e.salesAgent)])])])])])),Y=e=>{switch(e){case"high":return l.chevron.up;case"low":return l.chevron.down;default:return l.check}},N=n(e=>u({class:"flex items-center justify-between p-4 hover:bg-muted/10",margin:"m-2"},[t({class:"flex items-center space-x-4"},[w(Y(e.priority)),t({class:"flex flex-col"},[a({class:"font-medium"},e.subject),a({class:"text-sm text-muted-foreground"},e.owner)])]),r({variant:e.status==="Open"?"primary":"secondary"},e.status)])),O=n(({client:e})=>x({title:"Tickets"},[new C({cache:"tickets",key:"id",items:e.tickets,role:"list",rowItem:N})])),z=({client:e})=>t({class:"space-y-12 mt-6"},[E({client:e}),L({client:e}),j(e),q({client:e}),O({client:e})]),B=()=>{const e=t({class:"space-y-4"},[s({width:"w-24",height:"h-6",class:"rounded-md"}),s({width:"w-full",height:"h-24",class:"rounded-md"})]),c=t({class:"space-y-4"},[s({width:"w-32",height:"h-6",class:"rounded-md"}),t({class:"pl-6 space-y-6"},[0,1].map(()=>t({class:"flex items-center space-x-4"},[s({width:"w-5",height:"h-5",class:"rounded-full"}),t({class:"space-y-1"},[s({width:"w-1/3",height:"h-4",class:"rounded-md"}),s({width:"w-1/4",height:"h-3",class:"rounded-md"})])])))]),o=t({class:"space-y-4"},[s({width:"w-36",height:"h-6",class:"rounded-md"}),t({class:"overflow-x-auto"},[t({class:"min-w-full divide-y divide-muted-200"},[t({class:"grid grid-cols-3 gap-4 pb-2"},Array(3).fill().map(()=>s({width:"w-full",height:"h-4",class:"rounded-md"}))),...[0,1].map(()=>t({class:"grid grid-cols-3 gap-4 py-3"},[s({width:"w-2/3",height:"h-4",class:"rounded-md"}),s({width:"w-1/2",height:"h-4",class:"rounded-md"}),s({width:"w-1/3",height:"h-6",class:"rounded-full"})]))])])]),d=t({class:"space-y-4"},[s({width:"w-20",height:"h-6",class:"rounded-md"}),t({class:"flex flex-wrap gap-2"},Array(5).fill().map(()=>s({width:"w-20",height:"h-6",class:"rounded-full"})))]),y=t({class:"space-y-4"},[s({width:"w-40",height:"h-6",class:"rounded-md"}),s({width:"w-1/3",height:"h-4",class:"rounded-md"}),t({class:"overflow-x-auto"},[t({class:"min-w-full divide-y divide-muted-200"},[t({class:"grid grid-cols-3 gap-4 pb-2"},Array(3).fill().map(()=>s({width:"w-full",height:"h-4",class:"rounded-md"}))),...[0,1].map(()=>t({class:"grid grid-cols-3 gap-4 py-3"},[s({width:"w-1/4",height:"h-4",class:"rounded-md"}),s({width:"w-1/3",height:"h-4",class:"rounded-md"}),s({width:"w-1/5",height:"h-4",class:"rounded-md"})]))])])]),b=t({class:"flex-1 space-y-12 mt-6 px-6"},[e,c,o,d,y]);return t({class:"p-6 pt-0 2xl:mx-auto w-full 2xl:max-w-[1600px] space-y-8"},[s({width:"w-20",height:"h-6",class:"rounded-md"}),t({class:"flex flex-col lg:flex-row lg:space-x-8"},[b])])},M={setData(){return new D({loaded:!1,user:null})},afterSetup(){const e=this.route,c=$(e.clientId);setTimeout(()=>this.data.set({client:c,loaded:!0}),500)},beforeDestroy(){this.data.delete(),this.data.loaded=!1}},G=e=>t({class:"flex flex-row justify-between gap-4"},[m({class:"text-2xl font-medium"},"Client Summary"),t({class:"flex flex-row space-x-2"},[t({class:"hidden lg:inline-flex"},[h({variant:"withIcon",class:"text-muted-foreground outline",icon:l.pencil.square,click:g},"Edit")]),t({class:"flex lg:hidden mr-4"},[I({content:"Edit",position:"left"},h({variant:"icon",class:"outline",icon:l.pencil.square,click:g}))])])]),K=()=>new P(M,[A("loaded",(e,c,{data:o})=>{if(!e)return B();const d=o.client;return d?t({class:"p-6 pt-0 2xl:mx-auto w-full 2xl:max-w-[1600px]"},[t({class:"flex flex-auto flex-col lg:flex-row lg:space-x-8"},[t({class:"flex-1"},[G(),z({client:d})]),t({class:"w-full lg:w-1/4"},[])])]):t({class:"text-center"},"Client not found.")})]);export{K as SummaryPage,K as default};
