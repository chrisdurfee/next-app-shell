import{J as F,Y as l,G as N,z as x,l as S,b as O,w as d,o as h,a0 as y,aa as W,P as _}from"./index-C1SxjTtI.js";import{S as A,r as P}from"./sidebar-menu-page-nCAVFk3R-DIQCzsr2.js";import{D as E}from"./tooltip-JULShdSj-Dp_Ng7eH.js";import"./mobile-nav-wrapper-BE_hr65B-Cr9Q7jQp.js";const g=t=>(t*=1,t<10?`0${t}`:String(t)),j=t=>(t.indexOf("T")===-1&&t.indexOf(" ")===-1&&(t+="T00:00:01"),t.replace(" ","T"),t),$=t=>t.replace(/-/g,"_"),i=(t,e,n)=>`${t}-${g(e+1)}-${g(n)}`,p=()=>Math.floor(Math.random()*28)+1,X=(t,e)=>{const n=[];for(let r=0;r<6;r++)n.push(`_${e}_${g(t+1)}_${g(p())}`);return n},v=(t,e)=>{const n=X(Number(t),Number(e)),a={};return n.forEach((r,s)=>{a[r]=a[r]??[];const c=Math.floor(Math.random()*5)+1;for(let u=0;u<c;u++)a[r].push(`Event ${s+1}.${u+1}`)}),a},H=t=>t?"bg-accent text-primary":"",G=t=>t?"text-muted-foreground opacity-50":"",R=(t,e)=>t===e,V=(t,e)=>R(t,e)?"bg-primary text-primary-foreground":"",z=(t,e,n,a)=>{const r=V(e,a);if(r)return r;const s=H(t);if(t)return s;const c=G(n);return n?c:"text-foreground"},I=t=>x({class:"bg-primary w-1 h-1 rounded-full m-[2px]"}),J=(t,e)=>e===3?x({class:"px-1 border rounded-md text-sm text-muted-foreground bg-secondary"},"..."):e>3?null:x({class:"px-1 border rounded-md text-sm text-muted-foreground bg-secondary"},t),M=({day:t,currentDate:e,date:n,isToday:a,isOutsideMonth:r,select:s})=>F({href:"/calendar/month/"+n,class:`
		flex flex-auto flex-col p-2 rounded-md
		hover:bg-muted/50 focus:z-10 items-center lg:items-start
	  `,disabled:t===null,"aria-label":t?`Day ${t}`:null,click:()=>s(n)},[l({class:"flex items-center justify-center w-full"},[N({class:`p-2 rounded-lg text-sm font-medium ${z(a,e,r,n)}`},String(t))]),l({class:"flex lg:hidden flex-auto flex-row flex-wrap",for:[`events._${$(n)}`,I]}),l({class:"hidden lg:flex flex-auto flex-col space-y-1",for:[`events._${$(n)}`,J]})]),w=(t,e,n,a)=>t===a.date&&e===a.month&&n===a.year,q=(t,e,n)=>{const{year:a,month:r}=t,s=i(a,r,t.date),c=new Date(a,r,1).getDay(),u=new Date(a,r+1,0).getDate(),f=new Date(a,r,0).getDate(),m=[],b=r===0?11:r-1,C=r===0?a-1:a;for(let o=c-1;o>=0;o--){const D=w(f-o,b,C,e);m.push(M({day:f-o,currentDate:s,date:i(C,b,f-o),isToday:D,isOutsideMonth:!0,select:n}))}for(let o=1;o<=u;o++){const D=w(o,r,a,e);m.push(M({day:o,currentDate:s,date:i(a,r,o),isToday:D,isOutsideMonth:!1,select:n}))}const T=r===11?0:r+1,k=r===11?a+1:a,Y=(7-m.length%7)%7;for(let o=1;o<=Y;o++){const D=w(o,T,k,e);m.push(M({day:o,currentDate:s,date:i(k,T,o),isToday:D,isOutsideMonth:!0,select:n}))}return m},B=()=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>N({class:"text-center font-semibold text-muted-foreground py-1 m-0 mb-2 text-xs"},e)),K=t=>l({class:"flex flex-auto flex-col w-full",onSet:["currentDate",()=>[l({class:"flex flex-col lg:border-b"},[l({class:"grid grid-cols-7"},B())]),l({class:"grid grid-cols-7 h-full"},q(t.current,t.today,t.select))]]}),L=t=>l({class:"justify-between flex items-center mb-4"},[S({class:"inline-flex items-end"},[O({class:"scroll-m-20 text-3xl font-bold tracking-tight md:pl-4"},"[[monthName]]"),x({class:"text-muted-foreground text-base ml-2 font-bold"},"[[current.year]]")]),l({class:"flex items-center space-x-2"},[d({variant:"icon",icon:h.chevron.single.left,click:t.previous}),d({variant:"icon",icon:h.chevron.single.right,click:t.next}),E({content:"Add Event",position:"left"},d({variant:"icon",class:"lg:mr-4",icon:h.circlePlus}))])]),Q=t=>l({class:"flex flex-auto flex-col w-full space-y-1"},[L(t),K({current:t.current,today:t.today,select:t.select})]),U=t=>{let e=t.getDay(),n=t.getDate()-e;return new Date(t.getFullYear(),t.getMonth(),n)},Z=t=>{const e=new Date(t.current.year,t.current.month,t.current.date),n=U(e),a=[];for(let r=0;r<7;r++){const s=new Date(n.getFullYear(),n.getMonth(),n.getDate()+r),c=s.getDate()===t.today.date&&s.getMonth()===t.today.month&&s.getFullYear()===t.today.year,u=i(s.getFullYear(),s.getMonth(),s.getDate()),f=s.getMonth()!==t.current.month;a.push(M({day:s.getDate(),currentDate:i(t.current.year,t.current.month,t.current.date),date:u,isToday:c,isOutsideMonth:f,select:t.select}))}return l({class:"grid grid-cols-7 h-full"},a)},tt=t=>{let e=t.getDay(),n=t.getDate()-e;return new Date(t.getFullYear(),t.getMonth(),n)},et=t=>{const e=new Date(t.current.year,t.current.month,t.current.date),n=tt(e),a=new Date(n.getFullYear(),n.getMonth(),n.getDate()+6);let r="";n.getMonth()===a.getMonth()?r=y.getMonthName(n.getMonth())+" "+n.getDate()+" - "+a.getDate():r=y.getMonthName(n.getMonth())+" "+n.getDate()+" - "+y.getMonthName(a.getMonth())+" "+a.getDate();const s=n.getFullYear();return l({class:"justify-between flex items-center mb-4"},[S({class:"inline-flex items-end"},[O({class:"scroll-m-20 text-3xl font-bold tracking-tight md:pl-4"},r),x({class:"text-muted-foreground text-base ml-2 font-bold"},String(s))]),l({class:"flex items-center space-x-2"},[d({variant:"icon",icon:h.chevron.single.left,click:t.previous}),d({variant:"icon",icon:h.chevron.single.right,click:t.next}),E({content:"Add Event",position:"left"},d({variant:"icon",class:"lg:mr-4",icon:h.circlePlus}))])])},nt=t=>l({class:"flex flex-auto flex-col w-full space-y-1"},[et({current:t.current,previous:t.previous,next:t.next}),Z({current:t.current,today:t.today,select:t.select})]),ct=()=>new A({getSelectedDate(t){const e=this.selectedDate?new Date(j(this.selectedDate)):t;return new Date(e.getFullYear(),e.getMonth(),e.getDate())},setData(){const t=new Date,e=this.getSelectedDate(t),n=e.getMonth(),a=e.getFullYear(),r=v(n,a);return new _({events:r,monthName:this.getMonthName(n),currentDate:`${a}-${n+1}-${e.getDate()}`,current:{date:e.getDate(),year:a,month:n},today:{date:t.getDate(),month:t.getMonth(),year:t.getFullYear()}})},getMonthName(t){return y.getMonthName(t)},goToPreviousMonth(){const t=this.data;let e=t.current.month,n=t.current.year;e===0?(e=11,n--):e--,this.setCurrentDate(e,n),this.data.events=v(e,n)},goToNextMonth(){const t=this.data;let e=t.current.month,n=t.current.year;e===11?(e=0,n++):e++,this.setCurrentDate(e,n),this.data.events=v(e,n)},setCurrentDate(t,e,n=null){const a=this.data;a.current.month=t,a.current.year=e,typeof n=="number"&&(a.current.date=g(n)),a.currentDate=`${e}-${g(t+1)}-${a.current.date}`,a.monthName=this.getMonthName(t)},selectDate(t){const e=new Date(t+"T00:00:00");this.setCurrentDate(e.getMonth(),e.getFullYear(),e.getDate()),typeof this.selectedCallBack=="function"&&this.selectedCallBack(this.data.currentDate)},update(){const t=this.route;t.date&&this.selectDate(t.date)},render(){return P([l({class:"px-4 flex flex-auto flex-col pt-[80px] md:pt-5 md:px-0"},[l({class:"flex flex-auto flex-col w-full h-full"},[W("view",t=>{switch(t){case"month":return Q({current:this.data.current,today:this.data.today,select:e=>this.selectDate(e),next:()=>this.goToNextMonth(),previous:()=>this.goToPreviousMonth()});case"week":return nt({current:this.data.current,today:this.data.today,select:e=>this.selectDate(e),next:()=>this.goToNextMonth(),previous:()=>this.goToPreviousMonth()});default:return null}})])])])}});export{ct as CalendarPage,ct as default};
