import{_ as m,Y as t,R as k,w as r,o as n,c as x,b,G as h,E as T,z as c,U as w,a as S,W as d,X as j,M as I,V as a,$ as M,C as v,a0 as E,l as y,r as L,a1 as D,J as A,y as C,a2 as R,a3 as $,a4 as U,a5 as B,S as P,a6 as O,P as z}from"./index-CQt2DmOM.js";const u=[{id:1,name:"William Smith",subject:"Meeting Tomorrow",tags:["meeting","work","important"],time:"2024-11-04T18:00:00",content:"Hi, let's have a meeting tomorrow to discuss the project. I've been reviewing the project details...",read:!1},{id:2,name:"Alice Smith",subject:"Re: Project Update",tags:["work","important"],time:"2024-11-04T18:00:00",content:"Thank you for the project update. It looks great! I've gone through the report, and the progress...",read:!1},{id:3,name:"Bob Johnson",subject:"Weekend Plans",tags:["personal"],time:"2024-11-04T18:00:00",content:"Any plans for the weekend? I was thinking of going hiking in the nearby mountains...",read:!0},{id:4,name:"Emily Davis",subject:"Re: Question about Budget",tags:["work","budget"],time:"2024-11-04T18:00:00",content:"I have a question about the budget for the upcoming project. It seems like there's a discrepancy in...",read:!0},{id:5,name:"Michael Wilson",subject:"Important Announcement",tags:["meeting","work","important"],time:"2024-11-04T18:00:00",content:"I have an important announcement to make during our team meeting...",read:!0},{id:6,name:"Sophia White",subject:"Team Dinner",tags:["meeting","work"],time:"2024-11-04T18:00:00",content:"Let's have a team dinner next week to celebrate our success...",read:!0},{id:7,name:"James Martin",subject:"Re: Conference Registration",tags:["work","conference"],time:"2024-11-04T18:00:00",content:"I've completed the registration for the conference next month...",read:!0},{id:8,name:"Olivia Wilson",subject:"Vacation Plans",tags:["personal"],time:"2024-11-04T18:00:00",content:"Let's plan our vacation for next month. What do you think? I've been thinking of visiting...",read:!0}],W=(e,s)=>e>s?!0:null,N=()=>t({class:"text-xs text-muted-foreground"},"[[charCount]]/[[charLimit]]"),Y=()=>t({class:"flex justify-between items-center mt-3"},[r({variant:"icon",click:()=>console.log("Send email"),icon:n.airplane,class:"text-foreground hover:text-accent"})]),H=m({state(){return{charCount:0,charLimit:this.charLimit??5e3,isOverLimit:!1}},render(){const e=this.state.charLimit,s=o=>{const l=o.target.value,i=this.state;i.charCount=l.length,i.isOverLimit=W(l.length,e)};return t({class:"fadeIn pt-4"},[t({class:"relative flex border rounded-lg p-3 bg-surface"},[k({class:"w-full border-none bg-transparent resize-none focus:outline-none focus:ring-0 text-sm text-foreground placeholder-muted-foreground",placeholder:this.placeholder,input:s,bind:this.bind}),t({class:"flex flex-col items-end justify-end"},[N(),Y()])])])}}),g=()=>t({class:"m-4 mt-8 p-4 border rounded-md items-center justify-center text-center"},[t({class:"flex-none max-w-12 mx-auto mt-8 mb-4"},[x({size:"xl"},n.document.text)]),b({class:"text-xl font-semibold text-muted-foreground text-center"},"Nothing to see here."),t({class:"flex flex-auto flex-col items-center justify-center"},[h("This view is empty. Click on a message is the list to view it or get started by creating a new message.")]),r({variant:"outline",class:"my-8"},"Create a Message")]),_=e=>c({class:"ml-auto text-xs text-foreground"},[w({dateTime:e})]),J=e=>t({class:"flex items-center justify-between border-b pb-4 gap-4"},[t({class:"flex items-center gap-4"},[T({src:null,alt:e.name,fallbackText:`${e.name.split(" ")[0][0]}${e.name.split(" ")[1][0]}`,size:"md"}),t({class:"flex flex-col"},[c({class:"font-semibold text-lg text-foreground"},e.name),c({class:"text-sm text-muted-foreground"},`Reply-To: ${e.replyTo||"No Reply-To Available"}`)])]),t({class:"text-xs text-muted-foreground"},[_(e.time)])]),F=e=>t({class:"flex items-center justify-between border-b pb-2"},[t({class:"flex lg:hidden"},[S({margin:"m-0 ml-0",backUrl:"/inbox"})]),t({class:"hidden lg:flex items-center gap-2"},[d({content:"Move to inbox",position:"bottom-right"},[r({variant:"icon",icon:n.archive.box.default})]),d({content:"Move to junk",position:"bottom"},[r({variant:"icon",icon:n.archive.box.x})]),d({content:"Delete",position:"bottom"},[r({variant:"icon",icon:n.trash,click:(s,o)=>{new j({icon:n.trash,title:"Delete Message",description:"Are you sure you want to delete this message?",confirmTextLabel:"Delete",confirmed:()=>{e.delete(e.message.id)}}).open()}})]),d({content:"Snooze",position:"bottom"},[r({variant:"icon",icon:n.clock})])]),t({class:"hidden lg:flex items-center gap-2"},[d({content:"Reply",position:"bottom"},[r({variant:"icon",icon:n.arrows.left})]),d({content:"Reply All",position:"bottom"},[r({variant:"icon",icon:n.arrows.uturn.left})]),d({content:"Forward",position:"bottom"},[r({variant:"icon",icon:n.arrows.right})]),t({class:"w-px h-5 bg-border mx-2"}),d({content:"More options",position:"bottom-left"},[r({variant:"icon",icon:n.ellipsis.vertical})])])]),G=()=>t({class:"flex flex-col gap-4 p-4"},[t({class:"hidden lg:flex items-center justify-between border-b pb-4"},[t({class:"flex items-center gap-4"},[a({width:"w-8",height:"h-8"}),a({width:"w-8",height:"h-8"}),a({width:"w-8",height:"h-8"}),a({width:"w-8",height:"h-8"})]),t({class:"flex items-center gap-4"},[a({width:"w-8",height:"h-8"}),a({width:"w-8",height:"h-8"}),a({width:"w-8",height:"h-8"}),a({width:"w-8",height:"h-8"})])]),t({class:"flex lg:hidden items-center justify-between border-b pb-4"},[t({class:"flex items-center gap-4"},[a({width:"w-8",height:"h-8"})])]),t({class:"flex items-center gap-4"},[a({width:"w-12",height:"h-12",shape:"circle"}),t({class:"flex flex-col gap-2 flex-1"},[a({width:"w-1/2",height:"h-6",class:"rounded"}),a({width:"w-1/3",height:"h-4",class:"rounded"})])]),a({width:"w-full",height:"h-40",class:"rounded"})]),V=e=>u.find(s=>s.id.toString()===e)||null,X=m({state:{loaded:!1},render(){const e=V(this.messageId);return setTimeout(()=>this.state.loaded=!0,500),t({class:"w-full flex flex-auto flex-col space-y-4",onState:["loaded",o=>e?o?t({class:"flex flex-auto flex-col space-y-4 max-h-screen p-4"},[F({message:e,delete:this.delete}),J(e),t({class:"flex flex-grow flex-col overflow-y-auto"},[I({class:"text-sm text-foreground mt-2 pb-40 whitespace-pre-line font-sans"},e.content)]),new H({placeholder:`Reply to ${e.name}...`})]):G():g()]})}}),q=e=>()=>new M([v("messageId",s=>s?new X({messageId:s,delete:e.delete}):g())]),Q=()=>new E([t({class:"hidden lg:flex flex-auto flex-col"},[t({class:"flex auto flex-col w-full h-full"},[g()])])]),K=e=>t({class:"flex-[4] flex-col w-full h-full hidden lg:flex",switch:[{uri:"inbox/:page/:messageId*",component:q(e)},{uri:"inbox*",component:Q}]}),Z=[{label:"Inbox",count:8,icon:n.inbox.default,href:"inbox/inbox"},{label:"Drafts",count:0,icon:n.document.default,href:"inbox/drafts"},{label:"Sent",count:0,icon:n.envelope.open,href:"inbox/sent"},{label:"Junk",count:0,icon:n.archive.box.x,href:"inbox/junk"},{label:"Trash",count:0,icon:n.trash,href:"inbox/trash"},{label:"Archive",count:0,icon:n.archive.box.default,href:"inbox/archive"}],ee=[{label:"Social",count:0,icon:n.user.group,href:"inbox/social"},{label:"Updates",count:0,icon:n.bell.alert,href:"inbox/updates"},{label:"Forums",count:0,icon:n.chat.text,href:"inbox/forums"},{label:"Shopping",count:0,icon:n.shoppingBag,href:"inbox/shopping"}],p=({label:e,count:s,icon:o,href:l})=>new D({class:"flex items-center justify-between p-2 rounded-md hover:bg-muted transition",activeClass:"bg-muted",href:l,exact:!1},[t({class:"flex items-center space-x-2"},[o&&x({class:"flex-shrink-0 w-5 h-5"},o),c({class:"text-sm font-medium text-foreground"},e)]),c({class:"text-xs text-muted-foreground"},s.toString())]),te=()=>t({class:"flex-auto flex-col pb-12 hidden lg:flex p-6 border-r bg-sidebar max-w-[270px] h-full"},[y({class:"pb-4 px-2 flex flex-col"},[L({class:"scroll-m-20 text-2xl font-bold tracking-tight"},"Messages")]),t({class:"flex flex-auto flex-col divide-y divide-border"},[t({class:"space-y-2 mb-4",map:[Z,p]}),t({class:"space-y-2 pt-4",map:[ee,p]})])]),se=()=>t({class:"flex flex-col flex-auto w-full rounded-md space-y-3"},[a({width:"w-3/4",height:"h-6",class:"rounded"}),a({width:"w-1/2",height:"h-5",class:"rounded"}),a({width:"w-full",height:"h-8",class:"rounded"}),t({class:"flex space-x-2 mt-4 pb-[1.5px]"},[a({width:"w-12",height:"h-5",class:"rounded"}),a({width:"w-14",height:"h-5",class:"rounded"})])]),ne=e=>c({class:"ml-auto text-xs text-foreground"},[w({dateTime:e})]),oe=()=>c({class:"w-2 h-2 bg-blue-500 rounded-full",ariaLabel:"Unread message indicator"}),ae=e=>c({class:"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80"},e),le=m({state:{loaded:!1},markRead(){let{message:e}=this;e={...e},e.read||(e.read=!0,this.parent.mingle([e]))},render(){const e=this.message,s=this.parent.parent.route;return setTimeout(()=>this.state.loaded=!0,500),t({class:"flex flex-auto flex-col items-start gap-2 rounded-lg border p-3 text-left text-sm transition-all hover:bg-muted/50",onSet:[s,"messageId",{"bg-muted/50":e.id.toString()}],onState:["loaded",l=>l?A({class:"flex flex-auto flex-col w-full gap-2",href:`inbox/${s.page}/${e.id}`,click:()=>this.markRead()},[t({class:"flex w-full flex-col gap-1"},[t({class:"flex items-center justify-between"},[t({class:"flex items-center gap-2"},[c({class:"font-semibold text-base text-foreground"},e.name),!e.read&&oe()]),ne(e.time)]),t({class:"text-sm font-medium text-muted-foreground"},e.subject)]),h({class:"line-clamp-2 text-sm text-muted-foreground"},e.content),t({class:"flex flex-wrap gap-2 mt-2",map:[e.tags,ae]})]):se()]})}}),ie=({list:e})=>t({class:"m-4 mt-8 p-4 border rounded-md items-center justify-center text-center"},[t({class:"flex-none max-w-12 mx-auto mt-8 mb-4"},[x({size:"xl"},n.inbox.default)]),b({class:"text-xl font-semibold text-muted-foreground text-center"},"I've checked but found nothing."),t({class:"flex flex-auto flex-col items-center justify-center"},[h("Let's get this thread started. Create a message to begin.")]),r({variant:"outline",class:"my-8"},"Create a Message")]),re=()=>R({class:"pl-2 lg:pl-0 text-3xl lg:text-xl font-bold",useParent:({route:e})=>c({class:"capitalize",text:["[[page]]",e]})}),ce=()=>t({class:"flex mr-2"},[d({content:"Add Message",position:"left"},[r({variant:"icon",icon:n.circlePlus})])]),de=()=>y({class:"px-4 pb-2 lg:p-4 bg-card"},[t({class:"flex justify-between"},[re(),t({class:"flex"},[ce(),new C({options:[{label:"All Mail",value:"all"},{label:"Unread",value:"unread"}],onSelect:(e,{state:s})=>s.list=e})])])]),f=(e,s)=>s==="unread"?e.filter(o=>!o.read):e,ue=()=>t({class:"w-full pt-0 lg:pt-2 space-y-2 lg:overflow-y-auto lg:max-h-screen"},[de(),t([v("page",(e,s,{data:o,state:l})=>{e||(e="inbox",app.navigate("inbox/inbox",null,!0));let i=u;e!=="inbox"&&(i=[]),i=f(i,l.list),o.items=i}),$("list",(e,s,{route:o,data:l})=>{let i=u;o.page!=="inbox"&&(i=[]),i=f(i,e),l.items=i}),U("items",(e,s,{state:o})=>(e=f(e,o.list),e.length?new B({cache:"list",key:"id",items:e,role:"list",class:"space-y-2 px-4 pb-4",rowItem:l=>new le({message:l})}):ie({list:o.list})))])]),me=()=>{const e={setData(){return new z({items:u})},afterSetup(){this.route.page||app.navigate("inbox/inbox",null,!0)},setupStates(){return{list:"all"}}};return new P(e,[t({class:"flex w-full flex-col lg:flex-row h-full"},[te(),t({class:"flex flex-[2] lg:max-w-[550px] lg:border-r"},[ue()]),O(s=>K({delete:o=>{s.list.delete(o),app.navigate(`inbox/${s.route.page}`),app.notify({type:"success",title:"Email Deleted",description:"The email has been deleted.",icon:n.check})}}))])])};export{me as InboxPage,me as default};
