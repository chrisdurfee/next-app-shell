import{Q as o,ao as u,H as m,m as a,t as b,S as n,y as r,ap as x,z as f,x as g,M as k,a0 as d,a as h,_ as w,f as p,aq as y,ar as R,G as v,as as i,at as I}from"./index-C03M52h4.js";const C=o(({name:e,email:t})=>a({class:"min-w-0 flex-auto"},[n({class:"text-base font-semibold leading-6 m-0"},e),n({class:"truncate text-sm leading-5 text-muted-foreground m-0"},t)])),S=()=>a({class:"flex items-center gap-x-1.5"},[a({class:"flex-none rounded-full bg-emerald-500/20 p-1"},[a({class:"h-1.5 w-1.5 rounded-full bg-emerald-500"})]),n({class:"text-xs leading-5 text-gray-500"},"Online")]),H=e=>n({class:"text-xs leading-5 text-muted-foreground"},[r("Last seen "),x({datetime:e},"3h ago")]),U=(e,t)=>e==="online"?S():H(t),q=o(({role:e,lastSeen:t,status:s})=>a({class:"hidden shrink-0 sm:flex sm:flex-col sm:items-end"},[n({class:"text-sm leading-6 m-0"},e),U(s,t)])),D=e=>e.split(" ").map(s=>s[0]).join(""),T=o(e=>m({class:"fadeIn flex justify-between gap-x-6 py-4 px-4 rounded-md hover:bg-accent"},[a({class:"flex min-w-0 gap-x-4"},[b({src:e.image,alt:e.name,fallbackText:D(e.name)}),C({name:e.name,email:e.email})]),q({role:e.role,lastSeen:e.lastSeen,status:e.status})])),Q=o(e=>new u({cache:"list",key:"name",items:e.users,role:"list",class:"divide-y divide-border",rowItem:T})),j=({id:e,checked:t,bind:s,required:l})=>k({id:e,cache:"checkbox",class:"absolute opacity-0 w-full h-full cursor-pointer pointer-events-none",aria:{checked:["checked"]},required:l,checked:t,bind:s}),L=()=>r({class:"absolute text-xs pointer-events-none",onState:["checked",e=>e?d({class:"w-2 h-2 pointer-events-none",html:h.check}):null]}),O=({id:e,bind:t,checked:s,required:l,clickHandler:c})=>a({class:"relative flex items-center justify-center w-5 h-5 rounded-md transition-colors duration-200 border hover:border-accent-foreground",onState:["checked",{"bg-primary":!0,"text-primary-foreground":!0}],role:"checkbox",aria:{checked:["checked"]},tabIndex:0,click:c},[j({bind:t,checked:s,id:e,required:l}),L()]),A=({id:e,label:t,clickHandler:s})=>g({class:"text-base cursor-pointer",htmlFor:e,click:s},t),$=f({state(){return{checked:this.checked??!1}},after(){this.state.checked=this.checkbox.checked},clickHandler(){this.state.toggle("checked"),this.checkbox.checked=this.state.checked,typeof this.onChange=="function"&&this.onChange(this.state.checked)},render(){const e=this.getId();return a({class:`flex items-center space-x-2 cursor-pointer ${this.class}`},[O({id:e,bind:this.bind,checked:this.state.checked,required:this.required,clickHandler:()=>this.clickHandler()}),this.label&&A({id:e,label:this.label,clickHandler:()=>this.clickHandler()})])}}),z=e=>R([v({class:"text-muted-foreground border-b",map:[e.headers,t=>{if(t.label==="checkbox")return i({class:"cursor-pointer py-3 px-4 text-base"},[new $({class:"mr-2",onChange:e.toggle})]);const s=t.align||"items-center justify-start";return i({class:"cursor-pointer py-3 px-4 text-base",click:t.sortable&&(()=>e.sort(t.key))},[a({class:`flex flex-auto w-full items-center ${s}`},[r(t.label),t.sortable&&d({class:"ml-2",html:h.arrows.upDown})])])}]})]),B=({key:e,rows:t,selectRow:s,rowItem:l})=>new I({cache:"table",key:e,items:t,rowItem:c=>l(c,s),class:"divide-y divide-border"}),E=w({setData(){return new p({selectedRows:[]})},toggleAllSelectedRows(){const e=this.table.getRows(),t=this.data.selectedRows.length===e.length,s=t?[]:e;this.data.selectedRows=s,this.updateTable(!t)},updateTable(e){const t=this.table.getRows();t.forEach(s=>s.selected=e),this.table.setRows(t)},selectRow(e){const t=e.selected??!1;e.selected=!t;const s=this.data.get("selectedRows"),l=e.selected?[...s,e]:s.filter(c=>c!==e);this.data.selectedRows=l},render(){const e=this.rows;return a({class:"w-full"},[a({class:"w-full rounded-md border"},[y({class:"w-full"},[this.headers&&z({headers:this.headers,sort:t=>this.sortRows(t),toggle:()=>this.toggleAllSelectedRows()}),B({key:this.key,rows:e,selectRow:this.selectRow.bind(this),rowItem:this.rowItem})])])])},remove(e){this.table.remove(e)},setRows(e){this.table.setRows(e)},append(e){this.table.append(e)},mingle(e,t=!1){this.table.mingle(e,t)},prepend(e){this.table.prepend(e)},beforeDestroy(){this.data.selectedRows=[]}});export{$ as C,E as D,Q as U};
